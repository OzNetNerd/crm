{% from "components/modals/base/modal_base.html" import base_modal, modal_header, modal_footer %}
{% from "components/modals/base/form_fields.html" import text_input, select_input, url_input, tel_input, textarea_input %}

<div x-data="createCRUDMixin('company', {
            name: '',
            industry: '',
            size: '',
            website: '',
            phone: '',
            address: ''
        }, {
            getRequiredFields() {
                return ['name'];
            },
            
            async saveNewCompany() {
                return await this.saveEntity();
            }
        })" 
     @open-new-company-modal.window="openModal(); resetForm()"
     @close-modal.window="closeModal()"

    {% call base_modal('new-company-modal', backdrop_click_close=false) %}
        {{ modal_header('Create New Company') }}
        
        <div class="space-y-4">
            {{ text_input("name", "Company Name", "company.name", "Company name", required=true) }}
            
            <div class="grid grid-cols-2 gap-4">
                <div>
                    {{ select_input("industry", "Industry", "company.industry", ["technology", "finance", "healthcare", "manufacturing", "retail", "education", "consulting", "other"], empty_option="Select industry") }}
                </div>
                
                <div>
                    {% set size_options = [
                        {"value": "startup", "label": "Startup (1-10)"},
                        {"value": "small", "label": "Small (11-50)"},
                        {"value": "medium", "label": "Medium (51-200)"},
                        {"value": "large", "label": "Large (201-1000)"},
                        {"value": "enterprise", "label": "Enterprise (1000+)"}
                    ] %}
                    {{ select_input("size", "Company Size", "company.size", size_options, empty_option="Select size") }}
                </div>
            </div>
            
            <div class="grid grid-cols-2 gap-4">
                <div>
                    {{ url_input("website", "Website", "company.website", "https://company.com") }}
                </div>
                
                <div>
                    {{ tel_input("phone", "Phone", "company.phone", "Company phone number") }}
                </div>
            </div>
            
            {{ textarea_input("address", "Address", "company.address", "Company address") }}
        </div>
        
        {{ modal_footer(save_action="saveNewCompany()", save_text="Create Company") }}
    {% endcall %}
</div>