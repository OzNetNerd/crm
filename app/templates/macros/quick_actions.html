{% from "macros/icons.html" import plus_icon, building_office_icon, currency_dollar_icon %}

{% macro quick_actions_buttons(buttons) %}
<div class="flex flex-col sm:flex-row gap-2 sm:gap-3">
    {% for button in buttons %}
    {% set entity_type = button.label.split(' ')[1].lower() if button.label.split(' ')|length > 1 else 'default' %}
    {% set btn_class = 'btn-new-' + entity_type %}
    {% if button.onclick %}
        <button onclick="{{ button.onclick }}" 
                class="flex items-center gap-2 {{ btn_class }}">
            {{ button.icon }}
            {{ button.label }}
        </button>
    {% else %}
        <a href="{{ button.url }}" 
           class="flex items-center gap-2 {{ btn_class }}">
            {{ button.icon }}
            {{ button.label }}
        </a>
    {% endif %}
    {% endfor %}
</div>
{% endmacro %}

{% macro default_dashboard_actions() %}
{{ quick_actions_buttons([
    {
        'label': 'New Task',
        'onclick': 'openNewTaskModal()',
        'icon': plus_icon('w-4 h-4')
    },
    {
        'label': 'New Company',
        'onclick': 'openNewCompanyModal()',
        'icon': building_office_icon('w-4 h-4')
    },
    {
        'label': 'New Opportunity',
        'onclick': 'openNewOpportunityModal()',
        'icon': currency_dollar_icon('w-4 h-4')
    }
]) }}
{% endmacro %}

{# Page-specific action button configurations #}

{% macro companies_page_actions() %}
{{ quick_actions_buttons([
    {
        'label': 'New Company',
        'onclick': 'openNewCompanyModal()',
        'icon': plus_icon('w-4 h-4')
    }
]) }}
{% endmacro %}

{% macro contacts_page_actions() %}
{{ quick_actions_buttons([
    {
        'label': 'New Stakeholder',
        'onclick': 'openNewStakeholderModal()',
        'icon': plus_icon('w-4 h-4')
    }
]) }}
{% endmacro %}

{% macro opportunities_page_actions() %}
{{ quick_actions_buttons([
    {
        'label': 'New Opportunity',
        'onclick': 'openNewOpportunityModal()',
        'icon': plus_icon('w-4 h-4')
    }
]) }}
{% endmacro %}

{% macro tasks_page_actions() %}
{{ quick_actions_buttons([
    {
        'label': 'New Task',
        'onclick': 'openNewTaskModal()',
        'icon': plus_icon('w-4 h-4')
    }
]) }}
{% endmacro %}