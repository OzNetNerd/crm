{% from "macros/base/icons.html" import plus_icon, building_office_icon, currency_dollar_icon %}

{% macro quick_actions_buttons(buttons) %}
<div class="flex flex-col sm:flex-row gap-2 sm:gap-3">
    {% for button in buttons %}
    {# Use button's provided classes instead of auto-generating conflicting ones #}
    {% set btn_class = button.get('classes', 'c-button c-button--entity c-button--' + (button.get('entity_type', 'user'))) %}
    {% if button['hx_get'] or button['hx_post'] %}
        <button {% if button['hx_get'] %}hx-get="{{ button['hx_get'] }}"{% endif %}
                {% if button['hx_post'] %}hx-post="{{ button['hx_post'] }}"{% endif %}
                {% if button['hx_target'] %}hx-target="{{ button['hx_target'] }}"{% endif %}
                {% if button['hx_swap'] %}hx-swap="{{ button['hx_swap'] }}"{% endif %}
                class="flex items-center gap-2 {{ btn_class }}">
            {{ button['icon']|safe }}
            {{ button['label'] }}
        </button>
    {% else %}
        <a href="{{ button['url'] or '#' }}" 
           class="flex items-center gap-2 {{ btn_class }}">
            {{ button['icon']|safe }}
            {{ button['label'] }}
        </a>
    {% endif %}
    {% endfor %}
</div>
{% endmacro %}

{% macro default_dashboard_actions() %}
{# Use centralized DRY button generation system #}
{% set entity_buttons = get_dashboard_buttons() %}
{{ quick_actions_buttons(entity_buttons) }}
{% endmacro %}

{# 
  Page-specific action button macros removed - now handled by EntityConfigGenerator
  in form_configs.py for true DRY implementation. All entity pages use the 
  entity_buttons context variable generated automatically from model __entity_config__.
#}