{% from 'macros/modals/base.html' import htmx_modal_footer %}
{% from 'macros/base/icons.html' import icon %}
{#
Modal Footer Components
Reusable footer patterns for different modal modes
#}

{% macro render_view_footer(model_name=None, entity_id=None) %}
  {% call htmx_modal_footer() %}
    <button type="button"
            onclick="this.closest('.modal-overlay').remove()"
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm">
      Close
    </button>
    {% if model_name and entity_id %}
    <button type="button"
            hx-get="{{ url_for('modals.edit_modal', model_name=model_name, entity_id=entity_id) }}"
            hx-target=".modal-overlay"
            hx-swap="outerHTML"
            class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm">
      Edit
    </button>
    {% endif %}
  {% endcall %}
{% endmacro %}

{% macro render_form_footer() %}
  {% call htmx_modal_footer() %}
    <button type="button"
            onclick="this.closest('.modal-overlay').remove()"
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-sm">
      Cancel
    </button>
    <button type="submit"
            id="modal-save-button"
            class="px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed bg-blue-600 hover:bg-blue-700 shadow-sm"
            data-initial-disabled="true"
            hx-indicator="#save-spinner">
      <span class="save-text">Save</span>
      <span id="save-spinner" class="htmx-indicator flex items-center">
        {{ icon('spinner', 'sm', 'animate-spin -ml-1 mr-2 text-white') }}
        Saving...
      </span>
    </button>
  {% endcall %}
{% endmacro %}