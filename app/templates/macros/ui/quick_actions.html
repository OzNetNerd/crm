{% from "macros/base/icons.html" import icon %}


{% macro entity_buttons(entities) %}
<div class="flex flex-col sm:flex-row gap-2 sm:gap-3">
    {% for entity in entities %}
    <button hx-get="/modals/{{ entity|title }}/create"
            hx-target="body"
            hx-swap="beforeend"
            class="flex items-center gap-2 btn-{{ entity|lower }}">
        {% set entity_icons = {
            'companies': 'building-office',
            'tasks': 'clipboard-list', 
            'opportunities': 'currency-dollar',
            'stakeholders': 'user',
            'teams': 'users'
        } %}
        {{ icon(entity_icons.get(entity|lower, 'plus'), 'sm') }}
        New {{ entity|title }}
    </button>
    {% endfor %}
</div>
{% endmacro %}

{% macro default_dashboard_actions() %}
{# Default dashboard buttons - Python just passes entity names #}
{{ entity_buttons(['companies', 'tasks', 'opportunities', 'stakeholders', 'teams']) }}
{% endmacro %}

{# 
  Page-specific action button macros removed - now handled by EntityConfigGenerator
  in form_configs.py for true DRY implementation. All entity pages use the 
  entity_buttons context variable generated automatically from model __entity_config__.
#}