{% from "macros/base/icons.html" import icon %}


{% macro entity_buttons(button_configs) %}
<div class="flex flex-col sm:flex-row gap-2 sm:gap-3">
    {% for button in button_configs %}
    <button hx-get="{{ button.hx_get }}"
            hx-target="{{ button.hx_target }}"
            hx-swap="{{ button.hx_swap }}"
            class="flex items-center gap-2 btn-{{ button.entity|lower }}">
        {% set entity_icons = {
            'companies': 'building-office',
            'tasks': 'clipboard-list', 
            'opportunities': 'currency-dollar',
            'stakeholders': 'user',
            'teams': 'users'
        } %}
        {{ icon(entity_icons.get(button.entity|lower, 'plus'), 'sm') }}
        {{ button.label }}
    </button>
    {% endfor %}
</div>
{% endmacro %}

{% macro default_dashboard_actions() %}
{# Default dashboard buttons - Generated from model configurations #}
{{ entity_buttons(get_dashboard_action_buttons()) }}
{% endmacro %}

{# 
  Page-specific action button macros removed - now handled by EntityConfigGenerator
  in form_configs.py for true DRY implementation. All entity pages use the 
  entity_buttons context variable generated automatically from model __entity_config__.
#}