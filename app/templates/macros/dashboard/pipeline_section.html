{% from "macros/ui/summary_section.html" import status_breakdown_grid %}
{% from "macros/formatting.html" import format_currency %}

{% macro dashboard_pipeline_section(pipeline_stats) %}
{# Dashboard-specific pipeline section - only for dashboard use #}
{% set pipeline_stats_list = [
  {
    'value': format_currency(pipeline_stats.prospect), 
    'value_color': 'green', 
    'label': 'Prospect'
  },
  {
    'value': format_currency(pipeline_stats.qualified), 
    'value_color': 'blue', 
    'label': 'Qualified'
  },
  {
    'value': format_currency(pipeline_stats.proposal), 
    'value_color': 'yellow', 
    'label': 'Proposal'
  },
  {
    'value': format_currency(pipeline_stats.negotiation), 
    'value_color': 'orange', 
    'label': 'Negotiation'
  }
] %}

<div class="p-6 mb-6 bg-white rounded-lg border border-gray-200 shadow-sm">
  <h2 class="section-title">Sales Pipeline</h2>
  <p class="section-subtitle">Total: {{ format_currency(pipeline_stats.total_value) }} ({{ pipeline_stats.total_count }} opportunities)</p>

  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    {% for stat in pipeline_stats_list %}
    <div class="text-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
      <div class="text-xl font-bold text-{{ stat.value_color }}-600 mb-1">{{ stat.value }}</div>
      <div class="text-sm text-gray-600">{{ stat.label }}</div>
    </div>
    {% endfor %}
  </div>
</div>
{% endmacro %}