{# DRY Heroicons SVG Icon System #}
{# 
  Centralized icon system that eliminates code duplication
  Usage: {{ icon('plus', 'md') }} or {{ icon('building-office', 'sm', 'text-blue-500') }}
#}

{# Icon Registry - Central definition of all SVG paths and styles #}
{% set icon_registry = {
  'building-office': {
    'path': 'M3 21h18M5 21V7l8-4v18M9 9h1m0 0h1m-1 0v1m0-1V8m3 1h1m0 0h1m-1 0v1m0-1V8',
    'type': 'stroke'
  },
  'building-office-alt': {
    'path': 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',
    'type': 'stroke'
  },
  'user': {
    'path': 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
    'type': 'stroke'
  },
  'users': {
    'path': 'M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z M22 10.5v.5a2 2 0 01-2 2h-1a2 2 0 00-2 2v3a2 2 0 002 2h1a2 2 0 002-2v-3a4.992 4.992 0 00-1.006-3.005A5.002 5.002 0 0022 10.5z',
    'type': 'stroke'
  },
  'currency-dollar': {
    'path': 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1',
    'type': 'stroke'
  },
  'currency-dollar-circle': {
    'path': 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'check': {
    'path': 'M5 13l4 4L19 7',
    'type': 'stroke'
  },
  'check-circle': {
    'path': 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'check-circle-solid': {
    'path': 'M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'clipboard-list': {
    'path': 'M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01',
    'type': 'stroke'
  },
  'bolt': {
    'path': 'M13 10V3L4 14h7v7l9-11h-7z',
    'type': 'stroke'
  },
  'fire-solid': {
    'path': 'M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'fire': {
    'path': 'M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z',
    'type': 'stroke'
  },
  'exclamation-triangle': {
    'path': 'M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z',
    'type': 'stroke'
  },
  'exclamation-circle-solid': {
    'path': 'M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'calendar-days': {
    'path': 'M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5',
    'type': 'stroke'
  },
  'calendar': {
    'path': 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
    'type': 'stroke'
  },
  'chart-bar': {
    'path': 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z',
    'type': 'stroke'
  },
  'question-mark-circle': {
    'path': 'M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'information-circle': {
    'path': 'M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'document': {
    'path': 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
    'type': 'stroke'
  },
  'chevron-right': {
    'path': 'M9 5l7 7-7 7',
    'type': 'stroke'
  },
  'plus': {
    'path': 'M12 4v16m8-8H4',
    'type': 'stroke'
  },
  'clock': {
    'path': 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'pencil': {
    'path': 'M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z',
    'type': 'stroke'
  },
  'envelope': {
    'path': 'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
    'type': 'stroke'
  },
  'phone': {
    'path': 'M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z',
    'type': 'stroke'
  },
  'trash': {
    'path': 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16',
    'type': 'stroke'
  },
  'arrow-left': {
    'path': 'M15 19l-7-7 7-7',
    'type': 'stroke'
  },
  'list-bullet': {
    'path': 'M4 6h16M4 12h16M4 18h16',
    'type': 'stroke'
  },
  'chevron-down': {
    'path': 'M19 9l-7 7-7-7',
    'type': 'stroke'
  },
  'x-mark': {
    'path': 'M6 18L18 6M6 6l12 12',
    'type': 'stroke'
  },
  'magnifying-glass': {
    'path': 'M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z',
    'type': 'stroke'
  },
  'funnel': {
    'path': 'M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z',
    'type': 'stroke'
  },
  'spinner': {
    'path': 'M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z',
    'type': 'fill'
  },
  'squares-2x2': {
    'path': 'M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z',
    'type': 'stroke'
  },
  'arrow-path': {
    'path': 'M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15',
    'type': 'stroke'
  },
  'bars-3': {
    'path': 'M4 6h16M4 12h16M4 18h16',
    'type': 'stroke'
  },
  'ellipsis-horizontal': {
    'path': 'M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z',
    'type': 'fill'
  },
  'link': {
    'path': 'M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71',
    'type': 'stroke'
  },
  'square-3-stack-3d': {
    'path': 'M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3',
    'type': 'stroke'
  },
  'cog-6-tooth': {
    'path': 'M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z',
    'type': 'stroke'
  },
  'bell': {
    'path': 'M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7C18 6.279 15.726 4 12.857 4a3.124 3.124 0 00-.749.083 5.964 5.964 0 016.749 3.917A7.968 7.968 0 0118 9.75v.7a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.454 1.31zm-5.714 0a23.848 23.848 0 005.714 0M9.143 17.082a23.848 23.848 0 015.714 0M12 21a3.114 3.114 0 002.598-1.41M12 21a3.114 3.114 0 01-2.598-1.41',
    'type': 'stroke'
  },
  'eye': {
    'path': 'M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
    'type': 'stroke'
  },
  'eye-slash': {
    'path': 'M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88',
    'type': 'stroke'
  },
  'home': {
    'path': 'M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25',
    'type': 'stroke'
  },
  'academic-cap': {
    'path': 'M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5',
    'type': 'stroke'
  },
  'star': {
    'path': 'M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z',
    'type': 'stroke'
  },
  'star-solid': {
    'path': 'M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z',
    'type': 'fill'
  },
  'heart': {
    'path': 'M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z',
    'type': 'stroke'
  },
  'heart-solid': {
    'path': 'M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z',
    'type': 'fill'
  }
} %}

{# Size Registry - Standardized sizing options #}
{% set size_registry = {
  'xs': 'w-3 h-3',
  'sm': 'w-4 h-4', 
  'md': 'w-5 h-5',
  'lg': 'w-6 h-6',
  'xl': 'w-8 h-8',
  '2xl': 'w-10 h-10'
} %}

{# Base SVG Macro - DRY foundation for all icons #}
{% macro base_svg(icon_data, size='lg') %}
{% set size_class = size_registry.get(size, size if 'w-' in size else size_registry.lg) %}
<svg class="{{ size_class }}" 
     {% if icon_data.type == 'fill' %}fill="currentColor" viewBox="0 0 24 24"{% else %}fill="none" stroke="currentColor" viewBox="0 0 24 24"{% endif %}>
  {% if icon_data.get('fill_rule') %}
  <path fill-rule="{{ icon_data.fill_rule }}" 
        {% if icon_data.get('clip_rule') %}clip-rule="{{ icon_data.clip_rule }}"{% endif %}
        d="{{ icon_data.path }}"/>
  {% else %}
  <path {% if icon_data.type == 'stroke' %}stroke-linecap="round" stroke-linejoin="round" stroke-width="2"{% endif %} 
        d="{{ icon_data.path }}"/>
  {% endif %}
</svg>
{% endmacro %}

{# Unified Icon Macro - Single interface for all icons with validation #}
{% macro icon(name, size='lg') %}
{% set icon_data = icon_registry.get(name) %}
{% if icon_data %}
{{ base_svg(icon_data, size) }}
{% else %}
{# Developer warning for unknown icons - only show in development #}
{% if config and config.get('ENV') == 'development' %}
<div class="inline-flex items-center px-2 py-1 text-xs font-medium text-red-800 bg-red-100 rounded" title="Unknown icon: '{{ name }}' - Check icon registry">
  ❌ {{ name }}
</div>
{% else %}
<!-- Unknown icon: {{ name }} - Using default question mark -->
<svg class="{{ size_registry.get(size, 'w-6 h-6') }} {{ additional_class }} text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" title="Missing icon: {{ name }}">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
</svg>
{% endif %}
{% endif %}
{% endmacro %}

{# Developer Helper Macro - List all available icons #}
{% macro icon_list() %}
<div class="grid grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg">
  <h3 class="col-span-4 text-lg font-semibold text-gray-800 mb-4">Available Icons ({{ icon_registry.keys()|length }})</h3>
  {% for icon_name in icon_registry.keys()|sort %}
  <div class="flex items-center space-x-2 p-2 bg-white rounded border">
    {{ icon(icon_name, 'sm') }}
    <span class="text-xs text-gray-600">{{ icon_name }}</span>
  </div>
  {% endfor %}
</div>
{% endmacro %}

{# Icon Exists Helper - Check if icon exists in registry #}
{% macro icon_exists(name) %}
{{- icon_registry.get(name) is not none -}}
{% endmacro %}

{# ========================================================================= #}
{# MODERN ICON SYSTEM #}
{# Use: {{ icon('icon-name', 'size', 'additional-classes') }} #}
{# ========================================================================= #}