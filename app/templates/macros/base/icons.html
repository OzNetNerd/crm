{# DRY Heroicons SVG Icon System #}
{# 
  Centralized icon system that eliminates code duplication
  Usage: {{ icon('plus', 'md') }} or {{ icon('building-office', 'sm', 'text-blue-500') }}
#}

{# Icon Registry - Central definition of all SVG paths and styles #}
{% set icon_registry = {
  'building-office': {
    'path': 'M3 21h18M5 21V7l8-4v18M9 9h1m0 0h1m-1 0v1m0-1V8m3 1h1m0 0h1m-1 0v1m0-1V8',
    'type': 'stroke'
  },
  'building-office-alt': {
    'path': 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',
    'type': 'stroke'
  },
  'user': {
    'path': 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
    'type': 'stroke'
  },
  'currency-dollar': {
    'path': 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1',
    'type': 'stroke'
  },
  'currency-dollar-circle': {
    'path': 'M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'check': {
    'path': 'M5 13l4 4L19 7',
    'type': 'stroke'
  },
  'check-circle': {
    'path': 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'check-circle-solid': {
    'path': 'M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'clipboard-list': {
    'path': 'M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01',
    'type': 'stroke'
  },
  'bolt': {
    'path': 'M13 10V3L4 14h7v7l9-11h-7z',
    'type': 'stroke'
  },
  'fire-solid': {
    'path': 'M12.963 2.286a.75.75 0 00-1.071-.136 9.742 9.742 0 00-3.539 6.177A7.547 7.547 0 016.648 6.61a.75.75 0 00-1.152-.082A9 9 0 1015.68 4.534a7.46 7.46 0 01-2.717-2.248zM15.75 14.25a3.75 3.75 0 11-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 011.925-3.545 3.75 3.75 0 013.255 3.717z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'fire': {
    'path': 'M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z',
    'type': 'stroke'
  },
  'exclamation-triangle': {
    'path': 'M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z',
    'type': 'stroke'
  },
  'exclamation-circle-solid': {
    'path': 'M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z',
    'type': 'fill',
    'fill_rule': 'evenodd',
    'clip_rule': 'evenodd'
  },
  'calendar-days': {
    'path': 'M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5',
    'type': 'stroke'
  },
  'calendar': {
    'path': 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
    'type': 'stroke'
  },
  'chart-bar': {
    'path': 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z',
    'type': 'stroke'
  },
  'question-mark-circle': {
    'path': 'M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'information-circle': {
    'path': 'M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'document': {
    'path': 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
    'type': 'stroke'
  },
  'chevron-right': {
    'path': 'M9 5l7 7-7 7',
    'type': 'stroke'
  },
  'plus': {
    'path': 'M12 4v16m8-8H4',
    'type': 'stroke'
  },
  'clock': {
    'path': 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',
    'type': 'stroke'
  },
  'pencil': {
    'path': 'M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z',
    'type': 'stroke'
  },
  'envelope': {
    'path': 'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
    'type': 'stroke'
  },
  'phone': {
    'path': 'M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z',
    'type': 'stroke'
  },
  'trash': {
    'path': 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16',
    'type': 'stroke'
  },
  'arrow-left': {
    'path': 'M15 19l-7-7 7-7',
    'type': 'stroke'
  },
  'list-bullet': {
    'path': 'M4 6h16M4 12h16M4 18h16',
    'type': 'stroke'
  }
} %}

{# Size Registry - Standardized sizing options #}
{% set size_registry = {
  'xs': 'w-3 h-3',
  'sm': 'w-4 h-4', 
  'md': 'w-5 h-5',
  'lg': 'w-6 h-6',
  'xl': 'w-8 h-8',
  '2xl': 'w-10 h-10'
} %}

{# Base SVG Macro - DRY foundation for all icons #}
{% macro base_svg(icon_data, size='lg', additional_class='') %}
{% set size_class = size_registry.get(size, size if 'w-' in size else size_registry.lg) %}
{% set combined_class = size_class + (' ' + additional_class if additional_class else '') %}
<svg class="{{ combined_class }}" 
     {% if icon_data.type == 'fill' %}fill="currentColor" viewBox="0 0 24 24"{% else %}fill="none" stroke="currentColor" viewBox="0 0 24 24"{% endif %}>
  {% if icon_data.get('fill_rule') %}
  <path fill-rule="{{ icon_data.fill_rule }}" 
        {% if icon_data.get('clip_rule') %}clip-rule="{{ icon_data.clip_rule }}"{% endif %}
        d="{{ icon_data.path }}"/>
  {% else %}
  <path {% if icon_data.type == 'stroke' %}stroke-linecap="round" stroke-linejoin="round" stroke-width="2"{% endif %} 
        d="{{ icon_data.path }}"/>
  {% endif %}
</svg>
{% endmacro %}

{# Unified Icon Macro - Single interface for all icons #}
{% macro icon(name, size='lg', additional_class='') %}
{% set icon_data = icon_registry.get(name) %}
{% if icon_data %}
{{ base_svg(icon_data, size, additional_class) }}
{% else %}
<!-- Unknown icon: {{ name }} -->
<svg class="{{ size_registry.get(size, 'w-6 h-6') }} {{ additional_class }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
</svg>
{% endif %}
{% endmacro %}

{# ========================================================================= #}
{# BACKWARD COMPATIBILITY WRAPPERS - Maintains existing template compatibility #}
{# ========================================================================= #}

{# Building Office Icon (Company) #}
{% macro building_office_icon(class="w-6 h-6") %}
{{ icon('building-office', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# User Icon (Stakeholder) #}
{% macro user_icon(class="w-6 h-6") %}
{{ icon('user', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Currency Dollar Icon (Opportunity) #}
{% macro currency_dollar_icon(class="w-6 h-6") %}
{{ icon('currency-dollar', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Check Icon (Task/General Check) #}
{% macro check_icon(class="w-6 h-6") %}
{{ icon('check', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Clipboard Document List Icon (To Do) #}
{% macro clipboard_list_icon(class="w-6 h-6") %}
{{ icon('clipboard-list', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Bolt Icon (In Progress) #}
{% macro bolt_icon(class="w-6 h-6") %}
{{ icon('bolt', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Check Circle Icon Solid (Completed) #}
{% macro check_circle_icon_solid(class="w-6 h-6") %}
{{ icon('check-circle-solid', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Fire Icon Solid (High Priority) #}
{% macro fire_icon_solid(class="w-6 h-6") %}
{{ icon('fire-solid', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Exclamation Triangle Icon (Medium Priority) #}
{% macro exclamation_triangle_icon(class="w-6 h-6") %}
{{ icon('exclamation-triangle', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Calendar Days Icon (Due Today) #}
{% macro calendar_days_icon(class="w-6 h-6") %}
{{ icon('calendar-days', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Calendar Icon (This Week) #}
{% macro calendar_icon(class="w-6 h-6") %}
{{ icon('calendar', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Chart Bar Icon (Later) #}
{% macro chart_bar_icon(class="w-6 h-6") %}
{{ icon('chart-bar', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Exclamation Circle Icon Solid (Overdue) #}
{% macro exclamation_circle_icon_solid(class="w-6 h-6") %}
{{ icon('exclamation-circle-solid', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Question Mark Circle Icon (No Due Date) #}
{% macro question_mark_circle_icon(class="w-6 h-6") %}
{{ icon('question-mark-circle', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Document Icon (General) #}
{% macro document_icon(class="w-6 h-6") %}
{{ icon('document', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Chevron Right Icon (Expand/Collapse) #}
{% macro chevron_right_icon(class="w-4 h-4") %}
{{ icon('chevron-right', 'sm', class.replace('w-4 h-4', '').strip()) }}
{% endmacro %}

{# Plus Icon (Add/New Actions) #}
{% macro plus_icon(class="w-6 h-6") %}
{{ icon('plus', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Clock Icon (Time/Schedule) #}
{% macro clock_icon(class="w-6 h-6") %}
{{ icon('clock', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# Pencil Icon (Edit) #}
{% macro pencil_icon(class="w-4 h-4") %}
{{ icon('pencil', 'sm', class.replace('w-4 h-4', '').strip() + ' inline-block') }}
{% endmacro %}

{# Envelope Icon (Email) #}
{% macro envelope_icon(class="w-4 h-4") %}
{{ icon('envelope', 'sm', class.replace('w-4 h-4', '').strip()) }}
{% endmacro %}

{# Phone Icon (Phone) #}
{% macro phone_icon(class="w-4 h-4") %}
{{ icon('phone', 'sm', class.replace('w-4 h-4', '').strip()) }}
{% endmacro %}

{# Trash Icon (Delete) #}
{% macro trash_icon(class="w-4 h-4") %}
{{ icon('trash', 'sm', class.replace('w-4 h-4', '').strip()) }}
{% endmacro %}

{# Building Office Alternative Icon (Company - different path) #}
{% macro building_office_alt_icon(class="w-5 h-5") %}
{{ icon('building-office-alt', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Check Circle Icon (Different from solid version) #}
{% macro check_circle_icon(class="w-5 h-5") %}
{{ icon('check-circle', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Fire Alternative Icon (Different path) #}
{% macro fire_alt_icon(class="w-5 h-5") %}
{{ icon('fire', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Exclamation Triangle Alternative Icon (Different path) #}
{% macro exclamation_triangle_alt_icon(class="w-5 h-5") %}
{{ icon('exclamation-triangle', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Information Circle Icon #}
{% macro information_circle_icon(class="w-5 h-5") %}
{{ icon('information-circle', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Currency Dollar Alternative Icon (In circle) #}
{% macro currency_dollar_circle_icon(class="w-5 h-5") %}
{{ icon('currency-dollar-circle', 'md', class.replace('w-5 h-5', '').strip()) }}
{% endmacro %}

{# Arrow Left Icon (Back navigation) #}
{% macro arrow_left_icon(class="w-6 h-6") %}
{{ icon('arrow-left', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}

{# List Bullet Icon (View list/all items) #}
{% macro list_bullet_icon(class="w-6 h-6") %}
{{ icon('list-bullet', 'lg', class.replace('w-6 h-6', '').strip()) }}
{% endmacro %}