{# Button Macros - Standardized button components for consistent interface #}

{#
  Action Button - Standardized clickable action button with consistent styling
  
  Parameters:
  - onclick (required): JavaScript function call to execute on click
  - icon (optional): Symbol or text to display (default: '')
  - classes (optional): CSS classes for styling (default: standard gray styling)
  - id (optional): HTML id attribute
  
  Usage:
  {{ action_button('openStakeholderModal(' + contact.id|string + ')') }}
  {{ action_button('openModal()', 'â‹¯', 'text-blue-400 hover:text-blue-600') }}
#}
{% macro action_button(onclick, icon='', classes='text-gray-400 hover:text-gray-600', id=None) %}
<button onclick="{{ onclick }}" 
        class="{{ classes }}"
        {% if id %}id="{{ id }}"{% endif %}>
    {{ icon }}
</button>
{% endmacro %}

{#
  Enhanced Button - Modern button with icon and text support
  
  Parameters:
  - text (required): Button text content
  - onclick (optional): JavaScript function call to execute on click
  - url (optional): URL for href (use instead of onclick for links)
  - icon (optional): Icon HTML from icon macros
  - style (optional): Button style ('primary', 'secondary', 'accent', 'danger', 'gray') - default: 'primary'
  - size (optional): Button size ('sm', 'md', 'lg') - default: 'md'
  - disabled (optional): Whether button is disabled - default: false
  - id (optional): HTML id attribute
  
  Usage:
  {{ enhanced_button('New Task', onclick='openNewTaskModal()', icon=plus_icon('w-4 h-4')) }}
  {{ enhanced_button('Edit', icon=pencil_icon('w-4 h-4'), style='secondary', size='sm') }}
#}
{% macro enhanced_button(text, onclick=None, url=None, icon='', style='primary', size='md', disabled=false, id=None) %}
{%- set size_classes = {'sm': 'px-2 py-1 text-sm', 'md': 'px-4 py-2 text-sm', 'lg': 'px-6 py-3 text-base'} -%}
{%- set style_classes = {
  'primary': 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
  'secondary': 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500', 
  'accent': 'bg-green-600 text-white hover:bg-green-700 focus:ring-green-500',
  'danger': 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
  'gray': 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500'
} -%}

{% if url %}
<a href="{{ url }}" 
   class="inline-flex items-center gap-2 {{ size_classes[size] or size_classes['md'] }} font-medium rounded-md shadow-sm {{ style_classes[style] or style_classes['primary'] }} focus:outline-none focus:ring-2 focus:ring-offset-2 {{ 'opacity-50 cursor-not-allowed' if disabled }}"
   {% if id %}id="{{ id }}"{% endif %}
   {% if disabled %}aria-disabled="true"{% endif %}>
    {{ icon|safe }}{{ text }}
</a>
{% else %}
<button {% if onclick %}onclick="{{ onclick }}"{% endif %} 
        class="inline-flex items-center gap-2 {{ size_classes[size] or size_classes['md'] }} font-medium rounded-md shadow-sm {{ style_classes[style] or style_classes['primary'] }} focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"
        {% if id %}id="{{ id }}"{% endif %}
        {% if disabled %}disabled{% endif %}>
    {{ icon|safe }}{{ text }}
</button>
{% endif %}
{% endmacro %}

{#
  Entity Link Button - Standardized link button for entity details
  
  Parameters:
  - url (required): URL to link to
  - text (optional): Button text (default: 'View Details')
  - classes (optional): Additional CSS classes
  
  Usage:
  {{ entity_link_button(url_for('companies.detail', id=company.id)) }}
  {{ entity_link_button('/stakeholders/123', 'View Stakeholder') }}
#}
{% macro entity_link_button(url, text='View Details', classes='mt-3 block w-full text-center bg-gray-50 text-gray-700 py-2 rounded-md hover:bg-gray-100') %}
<a href="{{ url }}" class="{{ classes }}">{{ text }}</a>
{% endmacro %}